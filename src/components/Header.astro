---
const title="/dev/null"
const links = [
    {label: 'Home', path: '/'},
    {label: 'Articles', path: '/articles'},
];

// TODO collect form data
const tags = [
    'Astro',
    'NixOS',
    'DevOps',
];
---
<nav x-data="{ darkMode: $persist(true) }">
    <div class="navbar bg-base-200 hidden md:flex">
        <div class="flex-1">
            <a class="text-xl font-semibold pl-2">{title}</a>
        </div>
        <label class="flex cursor-pointer gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"/></svg>
            <input type="checkbox" value="dracula" class="toggle theme-controller" x-model="darkMode"/>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
        </label>
        <div class="flex-none">
            <ul class="menu menu-horizontal px-1 flex-row-reverse">
                {links.map(it => 
                    <li><a href={it.path}>{it.label}</a></li>
                )}
                <li>
                    <details>
                    <summary>
                        Tags
                    </summary>
                    <ul class="p-2 bg-base-200 rounded-t-none z-50">
                        {tags.map(tag => 
                            <li><a href={`/tags/${tag}`}>{tag}</a></li>
                        )}
                    </ul>
                    </details>
                </li>
            </ul>
        </div>
    </div>
    <nav class="flex md:hidden">
        <div class="collapse collapse-arrow bg-base-200 rounded-none">
            <input type="checkbox" /> 
            <div class="collapse-title text-xl font-semibold font-medium">
                {title}
            </div>
            <div class="collapse-content"> 
                <div class="flex-none">
                    <ul class="menu px-1">
                        {links.map(it => 
                            <li><a href={it.path}>{it.label}</a></li>
                        )}
                        <li>
                            <details>
                            <summary>
                                Tags
                            </summary>
                            <ul class="p-2 bg-base-200 rounded-t-none z-50">
                                {tags.map(tag => 
                                    <li><a href={`/tags/${tag}`}>{tag}</a></li>
                                )}
                            </ul>
                            </details>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
</nav>